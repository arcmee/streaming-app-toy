## 개요 (Overview)

이 PR은 `PLAN.md`의 6단계인 '자동화된 테스트 구축'을 완료합니다. 프로젝트의 안정성과 신뢰성을 높이기 위해 모든 핵심 기능에 대한 유닛 테스트와 API 엔드포인트에 대한 E2E 테스트를 추가했습니다.

## 주요 변경 사항 (Key Changes)

### 1. 유닛 테스트 추가 (Closes #21)
- 모든 도메인(`user`, `stream`, `chat`, `vod`)의 유스케이스에 대한 유닛 테스트를 작성했습니다.
- 테스트 격리를 위해 가짜(Fake) 리포지토리 구현체들을 추가했습니다.

### 2. E2E 테스트 추가
- `supertest`를 사용하여 `user`, `stream`, `vod` API의 전체 흐름을 검증하는 E2E 테스트를 작성했습니다.
- 테스트 실행 전후에 데이터베이스를 자동으로 초기화하여 테스트의 독립성을 보장합니다.

### 3. 테스트 환경 개선 및 리팩토링
- **앱 구조 변경**: E2E 테스트에서 Express 앱을 쉽게 가져올 수 있도록 `main.ts`와 `app.ts`로 분리했습니다.
- **테스트 안정성 확보**:
    - 공유 데이터베이스의 상태 오염을 방지하기 위해 Jest가 `--runInBand` 옵션으로 테스트를 순차 실행하도록 변경했습니다.
    - 테스트 환경에서 Redis 연결이 가능하도록 환경 변수 설정을 추가했습니다.
    - 테스트 종료 시 Redis 연결을 정상적으로 닫도록 수정하여 리소스 누수를 방지했습니다.
- **기능 개선**: E2E 테스트 과정에서 발견된 문제를 해결하기 위해, 회원가입 시 토큰도 함께 반환하도록 API를 개선했습니다.

## 참고 (Reference)

- GitHub Issue: #21